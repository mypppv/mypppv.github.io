<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://mypppv.github.io</id>
    <title>若水</title>
    <updated>2021-08-31T14:08:36.561Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://mypppv.github.io"/>
    <link rel="self" href="https://mypppv.github.io/atom.xml"/>
    <subtitle>&lt;h2 &gt;&lt;code&gt;上善若水，水善利万物而不争，处众人之所恶，故几于道。&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;</subtitle>
    <logo>https://mypppv.github.io/images/avatar.png</logo>
    <icon>https://mypppv.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, 若水</rights>
    <entry>
        <title type="html"><![CDATA[freebsd使用bound作为dns服务器]]></title>
        <id>https://mypppv.github.io/post/freebsd-shi-yong-bound-zuo-wei-dns-fu-wu-qi/</id>
        <link href="https://mypppv.github.io/post/freebsd-shi-yong-bound-zuo-wei-dns-fu-wu-qi/">
        </link>
        <updated>2021-08-29T14:41:07.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>
<p>安装pkg，shell输入pkg即可安装</p>
</li>
<li>
<p>安装unbound</p>
<pre><code>pkg install unbound
</code></pre>
</li>
<li>
<p>配置文件  /usr/local/etc/unbound/unbound.conf</p>
</li>
</ul>
<pre><code>##########################
# Unbound Configuration
##########################

# Server configuration
server:
chroot: /mnt
username: unbound
directory: /mnt
root-hints: /mnt/root.hints
use-syslog: yes
port: 53
verbosity: 1
extended-statistics: no
log-queries: no
hide-identity: no
hide-version: no
harden-referral-path: no
do-ip4: yes
do-ip6: yes
do-udp: yes
do-tcp: yes
do-daemonize: yes
so-reuseport: yes
module-config: &quot;iterator&quot;
cache-max-ttl: 86400
cache-min-ttl: 0
harden-dnssec-stripped: no
serve-expired: yes
outgoing-num-tcp: 50
incoming-num-tcp: 50
num-queries-per-thread: 4096
outgoing-range: 8192
infra-host-ttl: 900
infra-cache-numhosts: 50000
unwanted-reply-threshold: 0
jostle-timeout: 500
msg-cache-size: 512m
rrset-cache-size: 1024m
num-threads: 1
msg-cache-slabs: 2
rrset-cache-slabs: 2
infra-cache-slabs: 2
key-cache-slabs: 2

prefetch: yes
prefetch-key: yes

# Interface IP(s) to bind to
interface: 127.0.0.1
interface: 0.0.0.0 #本机ip地址
interface: ::1
# DNS Rebinding
# For DNS Rebinding prevention
# All these addresses are either private or should not be routable in the global IPv4 or IPv6 internet.
# IPv4 Addresses
private-address: 0.0.0.0/8       # Broadcast address
private-address: 10.0.0.0/8
private-address: 100.64.0.0/10
private-address: 127.0.0.0/8     # Loopback Localhost
private-address: 169.254.0.0/16
private-address: 172.16.0.0/12
private-address: 192.0.2.0/24    # Documentation network TEST-NET
private-address: 192.168.0.0/16
private-address: 198.18.0.0/15   # Used for testing inter-network communications
private-address: 198.51.100.0/24 # Documentation network TEST-NET-2
private-address: 203.0.113.0/24  # Documentation network TEST-NET-3
private-address: 233.252.0.0/24  # Documentation network MCAST-TEST-NET
#
# IPv6 Addresses
#
private-address: ::1/128         # Loopback Localhost
private-address: 2001:db8::/32   # Documentation network IPv6
private-address: fc00::/8        # Unique local address (ULA) part of &quot;fc00::/7&quot;, not defined yet
private-address: fd00::/8        # Unique local address (ULA) part of &quot;fc00::/7&quot;, &quot;/48&quot; prefix group
private-address: fe80::/10       # Link-local address (LLA)

# Access lists
include: /mnt/access_lists.conf
# Static host entries
include: /mnt/host_entries.conf
# DHCP leases (if configured)
include: /mnt/dhcpleases.conf
# Domain overrides
include: /mnt/domainoverrides.conf
remote-control:
    control-enable: yes
    control-interface: 127.0.0.1
    control-port: 953
    server-key-file: /mnt/unbound_server.key
    server-cert-file: /mnt/unbound_server.pem
    control-key-file: /mnt/unbound_control.key
    control-cert-file: /mnt/unbound_control.pem
forward-zone:
  name: .
  forward-addr: 223.5.5.5
	forward-addr: 180.76.76.76
	forward-addr: 223.6.6.6
	forward-addr: 114.114.114.114
	forward-addr: 8.8.8.8
	forward-addr: 8.8.4.4

</code></pre>
<ul>
<li>
<p>其中涉及的一些外部文件</p>
<p>https://github.com/mypppv/myconfig/blob/6ab4aa8e250155b55d508c4532c305ebc4c75fc2/unbound_config.zip</p>
<p>下载之后解压拷贝到 /mnt即可</p>
</li>
<li>
<p>以下是unbound常见命令</p>
<pre><code>unbound               unbound-checkconf     unbound-control-setup
unbound-anchor        unbound-control       unbound-host
</code></pre>
</li>
<li>
<p>启动unbound</p>
<pre><code>unbound
</code></pre>
</li>
<li>
<p>设置开机启动</p>
<pre><code>ee /etc/rc
#增加 
unbound_enable=&quot;YES&quot;
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[freebsd 设置local-unbound]]></title>
        <id>https://mypppv.github.io/post/freebsd-she-zhi-local-unbound/</id>
        <link href="https://mypppv.github.io/post/freebsd-she-zhi-local-unbound/">
        </link>
        <updated>2021-08-29T14:40:29.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>
<p>先设置本地dns服务器，修改/etc/resolv.conf</p>
<pre><code>root@freebsd:~ # cat /etc/resolv.conf
# Generated by resolvconf
nameserver 223.5.5.5
nameserver 180.76.76.76
nameserver 223.6.6.6
nameserver 114.114.114.114
nameserver 8.8.8.8
nameserver 8.8.4.4
nameserver 127.0.0.1
options edns0
</code></pre>
<p>设置local-unbound 开机启动：</p>
</li>
</ul>
<pre><code> sysrc local_unbound_enable=YES
</code></pre>
<ul>
<li>
<p>上述设置，会在下次启动后生效，开机启动</p>
</li>
<li>
<p>立即启动的方法如下：</p>
<pre><code> service local_unbound onestart
 service local_unbound onerestart #重启
</code></pre>
<pre><code>root@freebsd:~ # service local_unbound onestart
Performing initial setup.
destination:
Extracting forwarders from /etc/resolv.conf.
/var/unbound/forward.conf created
/var/unbound/lan-zones.conf created
/var/unbound/control.conf created
/var/unbound/unbound.conf created
/etc/resolvconf.conf created
Original /etc/resolv.conf saved as /var/backups/resolv.conf.20210829.203646
Starting local_unbound.
</code></pre>
</li>
<li>
<p>注意：/var/unbound/forward.conf 是不可手动更改的，如果想更改，方法如下：</p>
<pre><code>1、设置本地dns服务器，修改/etc/resolv.conf，增加nameserver
2、运行命令：local-unbound-setup
</code></pre>
</li>
<li>
<p>典型DNS服务器如下：</p>
<pre><code>nameserver 223.5.5.5
nameserver 180.76.76.76
nameserver 223.6.6.6
nameserver 114.114.114.114
nameserver 8.8.8.8
nameserver 8.8.4.4
</code></pre>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[freebsd 查看端口占用]]></title>
        <id>https://mypppv.github.io/post/freebsd-cha-kan-duan-kou-zhan-yong/</id>
        <link href="https://mypppv.github.io/post/freebsd-cha-kan-duan-kou-zhan-yong/">
        </link>
        <updated>2021-08-29T12:33:55.000Z</updated>
        <content type="html"><![CDATA[<p>使用25端口占用情况，执行 sockstat -4l | grep 25 即可：</p>
<pre><code>root@freebsd:~ #  sockstat -4l | grep 25
root     sendmail   820   3  tcp4   127.0.0.1:25          *:*
</code></pre>
<p>可以看到25端口的进行号是38386，通过 kill -9 38386 杀掉该进程：</p>
<p>占用25端口的进行号已被杀掉。</p>
<p>补充说明：</p>
<p>sockstat -4l ——可以查看侦听端口的程序，其中4表示ipv4，l表示listen</p>
<p>sockstat -4c ——可以查看已建立的连接状况。</p>
<p>sockstat -4 ——等于上述两个命令的和。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[# FreeBSD开启SSH远程登录]]></title>
        <id>https://mypppv.github.io/post/freebsd-kai-qi-ssh-yuan-cheng-deng-lu/</id>
        <link href="https://mypppv.github.io/post/freebsd-kai-qi-ssh-yuan-cheng-deng-lu/">
        </link>
        <updated>2021-08-29T11:30:52.000Z</updated>
        <content type="html"><![CDATA[<p>1、安装时选择上SSH，或者源码安装SSH<br>
2、使用root登陆系统（初始无密码）<br>
4、编辑/etc/rc.conf，添加一行sshd_enable=&quot;YES&quot;<br>
5、编辑/etc/ssh/sshd_config，将<br>
#PermitRootLogin no改为PermitRootLogin yes //允许root登陆<br>
#PasswordAuthentication no改为PasswordAuthenticationyes//使用系统PAM认证<br>
#PermitEmptyPasswords no改为PermitEmptyPasswords no//不允许空密码</p>
<p>修改端口号：/etc/ssh/sshd_config</p>
<p>#port=22改为 Port=number（你想修改的数字）</p>
<p>保存退出<br>
6、启动SSHD服务，/etc/rc.d/sshd onestart<br>
7、查看服务是否启动，netstat -an，如果看到22端口有监听，恭喜！！！</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[windows使用cmd命令快速设置网卡地址]]></title>
        <id>https://mypppv.github.io/post/windows-shi-yong-cmd-ming-ling-kuai-su-she-zhi-wang-qia-di-zhi/</id>
        <link href="https://mypppv.github.io/post/windows-shi-yong-cmd-ming-ling-kuai-su-she-zhi-wang-qia-di-zhi/">
        </link>
        <updated>2021-08-28T07:35:16.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>一键设置网卡ip地址</li>
</ul>
<pre><code class="language-bash">netsh interface ip set address &quot;eth0&quot; static 10.0.0.158 255.255.255.0 10.0.0.3
netsh interface ip set dns &quot;eth0&quot; static 10.0.0.3
pause
</code></pre>
<p>如下图，网卡名称手动改成了&quot;eth0&quot;<br>
<img src="https://mypppv.github.io/post-images/1630136293101.png" alt="" loading="lazy"></p>
<ul>
<li>一键设置自动获取ip和dns</li>
</ul>
<pre><code class="language-bash">netsh interface ip set address &quot;eth0&quot;  dhcp
netsh interface ip set dns name=&quot;eth0&quot; source=dhcp
pause
</code></pre>
<ul>
<li>升级版脚本,可以自动判断并设置ip地址</li>
</ul>
<pre><code>@echo off
netsh interface ip  show dnsservers | findstr 10.0.0.3
if %errorlevel% NEQ 1 GOTO set_ip_dhcp
:set_ip_static_addr
netsh interface ip set address &quot;eth0&quot; static 10.0.0.158 255.255.255.0 10.0.0.3
netsh interface ip set dns &quot;eth0&quot; static 10.0.0.3
cls
echo &quot;设置了静态ip地址&quot;
pause
exit
:set_ip_dhcp
netsh interface ip set address &quot;eth0&quot;  dhcp
netsh interface ip set dns name=&quot;eth0&quot; source=dhcp
cls
echo &quot;取消了静态ip地址&quot;
pause
exit
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ipv6 windows 查询mtu]]></title>
        <id>https://mypppv.github.io/post/ipv6-windows-cha-xun-mtu/</id>
        <link href="https://mypppv.github.io/post/ipv6-windows-cha-xun-mtu/">
        </link>
        <updated>2021-08-28T06:55:12.000Z</updated>
        <content type="html"><![CDATA[<p><code>C:\Users\root&gt;Netsh interface ipv6 show interface</code></p>
<pre><code>Idx     Met         MTU          状态                名称

---  ----------  ----------  ------------  ---------------------------

  1          75  4294967295  connected     Loopback Pseudo-Interface 1

 31          35        1500  disconnected  VPN - VPN Client

  4          25        1280  connected     以太网

 35          25        1500  disconnected  本地连接

 39           5        1420  connected     client

 29          35        1500  connected     VMware Network Adapter VMnet1

 30          35        1500  connected     VMware Network Adapter VMnet8
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ipv6快速安装科学上网,一键安装脚本]]></title>
        <id>https://mypppv.github.io/post/ipv6-kuai-su-an-zhuang-ke-xue-shang-wang-yi-jian-an-zhuang-jiao-ben/</id>
        <link href="https://mypppv.github.io/post/ipv6-kuai-su-an-zhuang-ke-xue-shang-wang-yi-jian-an-zhuang-jiao-ben/">
        </link>
        <updated>2021-08-28T06:49:39.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>wireguard install</li>
</ul>
<pre><code class="language-bash">curl -O https://raw.githubusercontent.com/atrandys/wireguard/master/wg_mult.sh &amp;&amp; chmod +x wg_mult.sh &amp;&amp; ./wg_mult.sh
</code></pre>
<ul>
<li>v2-ui install</li>
</ul>
<pre><code class="language-bash">bash &lt;(curl -Ls https://blog.sprov.xyz/v2-ui.sh)
</code></pre>
<ul>
<li>v2-ui 监听端口为：</li>
</ul>
<pre><code class="language-bash">  ::
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[K20 pro 刷第三方rom root]]></title>
        <id>https://mypppv.github.io/post/11/</id>
        <link href="https://mypppv.github.io/post/11/">
        </link>
        <updated>2021-08-28T06:30:46.000Z</updated>
        <content type="html"><![CDATA[<p>1.下载第三方rom，下列为已知的</p>
<p>​    https://download.pixelexperience.org/raphael</p>
<p>​     https://t.me/redmik20proupdates</p>
<p>2.解压platform-tool</p>
<p>3.cmd命令进入rec，命令如下</p>
<pre><code>fastboot boot recovery.img
</code></pre>
<ol start="4">
<li>通过rec格式化所有分区，此时由于TWRP本身分区格式有问题，需要进入k20pro的rec格式化分区，然后再进入twrp挂载data分区，</li>
<li>拷贝rom到手机，安装rom</li>
</ol>
<p>6、下载最新Magisk</p>
<p>https://github.com/topjohnwu/Magisk/releases</p>
<p>7、<a href="https://github.com/topjohnwu/Magisk/releases/download/v23.0/Magisk-v23.0.apk">Magisk-v23.0.apk</a> 更改为 Magisk-v23.0.zip ；其它版本方法一样，把apk后缀更改而已</p>
<p>8、再次使用twrp 临时启动，刷入Magisk-v23.0.zip</p>
<p>9、进入手机，打开Magisk，安装更新，安装到rec，直接安装，即可获取root权限</p>
]]></content>
    </entry>
</feed>